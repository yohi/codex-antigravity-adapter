# Implementation Plan: github-actions-ci-pipelines

## Task Breakdown

- [ ] 1. Biome を導入して Lint 実行基盤を整える
- [x] 1.1 Biome を開発依存に追加してロックを更新する
  - Biome を開発依存として追加する
  - 依存関係のロックを更新して再現性を保つ
  - _Requirements: 2.4_

- [ ] 1.2 Biome のルールと対象範囲を設定する
  - src と tests を対象にする
  - TypeScript 向けのルールを適用する
  - formatter と linter を有効化する
  - _Requirements: 2.4_

- [ ] 1.3 Lint 実行スクリプトを追加する
  - Lint を実行するスクリプトを追加する
  - ローカルで実行できる状態であることを確認する
  - _Requirements: 2.4_

- [ ] 2. TypeScript の型チェック実行基盤を整える
- [ ] 2.1 型チェック用スクリプトを追加する
  - 型チェックを実行するスクリプトを追加する
  - 既存コードが型エラーなしで通ることを確認する
  - _Requirements: 2.3_

- [ ] 3. CI ワークフローの起動条件と安全性を定義する
- [ ] 3.1 PR と master Push で起動するワークフロー基盤を用意する
  - Pull Request と master への Push をトリガーに設定する
  - ubuntu-slim ランナーで実行する前提を明示する
  - 読み取り専用の最小権限で実行する
  - 外部 PR でも書き込み権限やシークレットを必要としない構成にする
  - ログに機密情報を含めない方針を徹底する
  - _Requirements: 1.1, 1.2, 3.4, 6.1, 6.2, 6.3_

- [ ] 3.2 実行ログからコミットとイベントを識別できるようにする
  - コミット SHA とイベント種別がログで分かる出力を追加する
  - _Requirements: 1.3_

- [ ] 3.3 同一 PR の重複実行を抑制する
  - 同一 PR の旧実行をキャンセルする設定を追加する
  - PR ごとに同時実行が 1 件になるように制御する
  - _Requirements: 5.1, 5.2_

- [ ] 4. 共通セットアップで再現性を確保する
- [ ] 4.1 リポジトリ取得と Bun 環境の準備を整える
  - リポジトリを取得するステップを追加する
  - engines.bun に適合する Bun 実行環境を準備する
  - _Requirements: 3.1_

- [ ] 4.2 依存関係の再現性と失敗時の可観測性を確保する
  - ロックファイルに基づく依存解決で再現性を担保する
  - 依存解決の失敗理由がログで分かるようにする
  - 依存関係キャッシュを有効化して実行時間を最適化する
  - _Requirements: 3.2, 3.3_

- [ ] 5. 品質チェックの並列ジョブを実装する
- [ ] 5.1 Lint ジョブを追加する
  - Lint を実行して違反があれば失敗として終了する
  - Checks 上で Lint の成否が識別できる名称にする
  - 失敗時に原因の手がかりがログで確認できる状態にする
  - _Requirements: 2.4, 2.5, 4.1, 4.2, 4.3_

- [ ] 5.2 型チェックジョブを追加する
  - 型チェックを実行してエラーがあれば失敗として終了する
  - Checks 上で型チェックの成否が識別できる名称にする
  - 失敗時に原因の手がかりがログで確認できる状態にする
  - _Requirements: 2.3, 2.5, 4.1, 4.2, 4.3_

- [ ] 5.3 ユニットテストジョブを追加する
  - ユニットテストを実行して失敗があれば失敗として終了する
  - Checks 上でユニットテストの成否が識別できる名称にする
  - 失敗時に原因の手がかりがログで確認できる状態にする
  - _Requirements: 2.1, 2.5, 4.1, 4.2, 4.3_

- [ ] 5.4 ビルドジョブを追加する
  - ビルドを実行して失敗があれば失敗として終了する
  - Checks 上でビルドの成否が識別できる名称にする
  - 失敗時に原因の手がかりがログで確認できる状態にする
  - _Requirements: 2.2, 2.5, 4.1, 4.2, 4.3_

---

**Generated**: 2025-12-29T04:15:49+09:00
